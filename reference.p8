pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
	grid_x=0
	grid_y=0
	flag_tile=0
	g=5
 p={}
 p.y=10
 p.x=10
 dx=0
 dy=0
end

function _update()
 grid_x=flr(p.x/8)
 grid_y=flr(p.y/8)
 flag_tile=fget(mget(grid_x,grid_y))
 
 if btn(0) then dx=-1
 elseif btn(1) then dx=1 
 else dx=0 end
 if btn(2) then dy=-1 
 else dy=g end
 
 if hit(p.x+dx,p.y,6,7) then
  dx=0
 end
 if hit(p.x,p.y+dy,6,7) then
  dy=0
 end
 
 p.x+=dx
 p.y+=dy
end

function _draw()
 cls()
 map(0,0,0,0,16,16)
 spr(2,p.x,p.y)
 print(flag_tile,5,5,7)
end

function hit(x,y,w,h)
 collide=false
 for i=x,x+w,w do
  if fget(mget(i/8,y/8))>0 or
     fget(mget(i/8,(y+h)/8))>0 then
     collide=true
  end
 end
 
 return collide
end
__gfx__
000000000009a0000044440000000000000000000000000044444444444f44440000000000000000000000000000000000000000000000000000000000000000
00000000009cca00044ccc400000000000000000000000004444f444444444440000000000000000000000000000000000000000000000000000000000000000
0070070009cccca004c0c040000000000000000000000000f4444444444444440000000000000000000000000000000000000000000000000000000000000000
000770009c9ccaca00cccc0000500400000000000000000044444444f44444440000000000000000000000000000000000000000000000000000000000000000
00077000999ccaaa000c000005845840000000000000000044f44444444f44f40000000000000000000000000000000000000000000000000000000000000000
00700700099ccaa0000dd0005555444400000000000000004444444bb44444440000000000000000000000000000000000000000000000000000000000000000
00000000009cca00000dd0005558844400000000000000004444443bb34444440000000000000000000000000000000000000000000000000000000000000000
000000000009a00000050500050000400000000000000000444f433333b444440000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004444433b3b3444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044f4443b334444f40000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000444444433444f4440000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000444444f4444444440000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000f444444444f444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044444444444444f40000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044f444444f4444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044444444444444440000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000f4444333b33344440000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000444f343b33b4444f0000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000444443b3334444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044444433b33444440000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004444433b334f44440000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004f4444333b3444440000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004444fb33b343f4440000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004444333b3334444f0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000003b33b33bf44444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000033b3333344f44f440000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000343434b3444444440000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000043444443444444f40000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044444f44344444340000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000444f44443b4343430000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000004f44444f33333b330000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000044444444b33b33b30000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0637373737373737373737373737370700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2600000000000000000000000000002700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1636363636363636363636363636361700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
